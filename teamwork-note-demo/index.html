<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>websocket</title>
</head>
<input type="text" placeholder="这里输入想要给服务器发送的消息" id="input">
<button id="send">send</button>
<body>
  <script>
    const ws = new WebSocket('ws://localhost:8888');
    const input = document.getElementById('input')
    const button = document.getElementById('send')
    input.addEventListener('input', () => {
      console.log(input.value);
      send();
    })
    function send() {
      const value = input.value;
      ws.send(value);
    }
    ws.onopen = () => {
      console.log('WebSocket onopen');
      ws.send('我是连接你的客户端');
    }
    ws.onmessage = e => {
      console.log('WebSocket onmessage');
      console.log('WebSocket message received：', e);
      console.log('WebSocket data received：', e.data);
    }

    ws.onclose = e => {
      console.log("WebSocket onclose");
    };
  </script>
</body>

</html>